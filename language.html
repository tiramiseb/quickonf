<!doctype html><html class=has-navbar-fixed-top><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Quickonf &mdash; Configuration language</title><meta property="og:title" content="Quickonf"><meta property="og:url" content="https://tiramiseb.github.io/quickonf/"><meta property="og:description" content="Quickly (re)configure a Linux desktop system"><link rel=stylesheet href=https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css><link rel=preconnect href=https://fonts.googleapis.com><link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;600&family=Fira+Code:wght@300&display=swap" rel=stylesheet><link rel=stylesheet href=https://tiramiseb.github.io/quickonf/style.css></head><body><nav class="container-fluid head"><ul><li><a href=https://tiramiseb.github.io/quickonf/ alt=Quickonf><img src=/quickonf/logo.svg>
Quickonf</a></li></ul><ul><li><a href=https://tiramiseb.github.io/quickonf/intro.html><span class=sm>Intro</span>
<span class=lg>Introduction</span></a></li><li><a href=https://tiramiseb.github.io/quickonf/language.html><span class=sm>Lang</span>
<span class=lg>Configuration language</span></a></li><li><a href=https://tiramiseb.github.io/quickonf/commands.html><span class=sm>Cmds</span>
<span class=lg>Commands</span></a></li><li><a href=https://tiramiseb.github.io/quickonf/recipes.html><span class=sm>Rec</span>
<span class=lg>Recipes</span></a></li><li><a href=https://tiramiseb.github.io/quickonf/ui.html><span class=sm>UI</span>
<span class=lg>User interface</span></a></li></ul></nav><nav class=container-fluid><ul><li><a role=button class=contrast href=https://github.com/tiramiseb/quickonf/releases><i class="las la-download"></i>
All releases</a></li><li><a role=button class=contrast href=https://github.com/tiramiseb/quickonf><i class="lab la-github"></i>
View on GitHub</a></li></ul></nav><main class=container><h1 id=groups>Groups</h1><p>A <em>Quickonf</em> configuration file is composed of multiple sections, called groups. The group name starts at the beginning of the line, instructions are indented.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>group name
</span></span><span class=line><span class=cl>  instruction A
</span></span><span class=line><span class=cl>  instruction B
</span></span><span class=line><span class=cl>  ...
</span></span><span class=line><span class=cl>  instruction G
</span></span><span class=line><span class=cl>    instruction H depending on instruction G
</span></span><span class=line><span class=cl>    instruction I depending on instruction G
</span></span></code></pre></div><p>Indentations length and type (spaces or tabs) is not strict, you may use whichever you want. Keep in mind that, when mixing indentations, tabs are considered to be equivalent to aligning to multiples of 8 spaces (ie. <code>&lt;space>&lt;space>&lt;tab></code> is equivalent to 8 spaces).</p><p>Some instructions have an impact on multiple other instructions, like conditional execution (<code>if</code>) or repetition (<code>repeat</code>), in this case you must use a 2nd indentation level (or even more). See below for examples.</p><h1 id=commands>Commands</h1><p>The most important type of instruction is the commands. There are many available commands, and probably many more to come. A command is the instruction given to <em>Quickonf</em> for system checking and modification. The commands may need arguments and may return output values (see <em>Variables</em> below). See the <em>Commands</em> section for details on how to use commands.</p><p>By convention, commands modifying data only for one user are prefixed with &ldquo;<code>user.</code>&rdquo; and take the username as their first argument. Other commands modify system-wide values.</p><h1 id=variables>Variables</h1><p>Some commands return output values, that can be stored in variables if needed. Variables are named with alphanumerical characters. Syntax to store values is the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>group name
</span></span><span class=line><span class=cl>  var1 var2 = command arg1 arg2
</span></span></code></pre></div><p>Using variables after assignment is as simple as putting the variable name between &ldquo;&lt;&rdquo; and &ldquo;>&rdquo; anywhere, like:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>group name
</span></span><span class=line><span class=cl>  var = command1 arg1 arg2
</span></span><span class=line><span class=cl>  command2 &lt;var&gt;
</span></span></code></pre></div><p>&mldr; here, the first output of the first command is used as the argument of the second command.</p><p>Except for the following global ones, variables are limited to their groups: there is no risk of conflict between variables in different groups.</p><h2 id=global-variables>Global variables</h2><p>Some global variables are set when <em>Quickonf</em> starts:</p><ul><li><code>hostname</code>: the hostname of the computer</li><li><code>oscodename</code>: the codename of the current operating system version</li><li><code>confdir</code>: path of the directory containing the configuration file (can be used to read other files in the same directory, templates etc)</li></ul><h2 id=expanding-variables-content>Expanding variables content</h2><p>Sometimes, a variable&rsquo;s content refers to other variables. Take for instance a file that contains variables names. If you read the file with the <code>file.read</code> command, it may be stored in a variable, but the content of the read file is not processed for variables names. In order to process variables names references inside a variable content, simply use the <code>expand</code> instruction with the variable name as its only argument.</p><p>Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>APT sources
</span></span><span class=line><span class=cl>  aptsrc = file.read &lt;confdir&gt;/sources.list.tmpl
</span></span><span class=line><span class=cl>  expand aptsrc
</span></span><span class=line><span class=cl>  file.content /etc/apt/sources.list &lt;aptsrc&gt;
</span></span></code></pre></div><p>&mldr; here, the <code>sources.list.tmpl</code> file may contain <code>&lt;oscodename></code>.</p><h1 id=conditional-execution>Conditional execution</h1><p>Instructions can be grouped below a <code>if</code> instruction, which executes then only if the condition is true.</p><p>Supported conditions are:</p><ul><li><code>file.absent &lt;/path/to/file></code>: true if the file does not exist</li><li><code>file.present &lt;/path/to/file></code>: true if the file exists</li><li><code>&lt;value1> = &lt;value2></code>: true if values are equal (compared as strings)</li><li><code>&lt;value1> != &lt;value2></code>: true if values are different (compared as strings)</li></ul><p>Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>VPN
</span></span><span class=line><span class=cl>  if &lt;hostname&gt; = mylaptop
</span></span><span class=line><span class=cl>    nm.import openvpn &lt;confdir&gt;/myvpn.ovpn
</span></span></code></pre></div><p>&mldr; here, the <code>nm.import openvpn &lt;confdir>/myvpn.ovpn</code> is only executed if the host name is &ldquo;mylaptop&rdquo;. You may of course put multiple instructions with the 2nd indentation level.</p><h1 id=repeating-identical-commands-and-arguments>Repeating identical commands and arguments</h1><p>Say you want to apply similar commands multiple times. Instead of writing the same prefix in multiple lines, you can use the <code>repeat</code> instruction. It makes it easier to write and to read your configuration file. It takes as arguments the command to be repeated, optionally with its first arguments.</p><p><em>Quickonf</em> translates it by prepending this command name and these arguments to all lines.</p><p>Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Wifi
</span></span><span class=line><span class=cl>  repeat nm.wifi
</span></span><span class=line><span class=cl>    ssid1 psk1
</span></span><span class=line><span class=cl>    ssid2 psk2
</span></span><span class=line><span class=cl>    ssid3 psk3
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>My XDG dirs
</span></span><span class=line><span class=cl>  repeat user.xdg.userdir alice
</span></span><span class=line><span class=cl>    desktop DESKtop
</span></span><span class=line><span class=cl>    documents MyDocs
</span></span><span class=line><span class=cl>    download UglyStuff
</span></span></code></pre></div><p>&mldr; translates internally to:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Wifi
</span></span><span class=line><span class=cl>  nm.wifi ssid1 psk1
</span></span><span class=line><span class=cl>  nm.wifi ssid2 psk2
</span></span><span class=line><span class=cl>  nm.wifi ssid3 psk3
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>My XDG dirs
</span></span><span class=line><span class=cl>  user.xdg.userdir alice desktop DESKtop
</span></span><span class=line><span class=cl>  user.xdg.userdir alice documents MyDocs
</span></span><span class=line><span class=cl>  user.xdg.userdir alice download UglyStuff
</span></span></code></pre></div><h1 id=priority>Priority</h1><p>Some instructions may need to be executed before other ones, when executing all instructions. For instance, changing the packages sources or adding an installer like snap or flatpak. For that specific case, You may use the <code>priority</code> instruction, which takes an integer as an arguments. The default priority is 0, and larger value means higher priority.</p><p>If you use the <code>priority</code> instruction in a conditional block, it impacts the whole group (meaning you may give different priorities depending on conditions).</p><p>Keep in mind that it only impacts the order of execution and display in the interface. You still can manually apply instructions of lower priority before instructions of higher priority.</p><p>For instance:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Flatpak
</span></span><span class=line><span class=cl>  priority 1
</span></span><span class=line><span class=cl>  apt.install flatpak
</span></span></code></pre></div><h1 id=recipes>Recipes</h1><p>In order to keep the configuration simple, some common groups may be defined in cookbooks, available locally on your filesystem or online.</p><p>The <code>cookbook</code> instruction, used at the root level of your configuration file (the same place where you usually put groups names), allows defining custom local files or HTTP/HTTPs URLS where to read recipes.</p><p>The <code>recipe</code> instruction executes a recipe. It may read existing variables, or specific variables for the recipe may be defined on the 2nd indentation level.</p><p>For instance:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>cookbook &lt;confdir&gt;/myrecipes.qconf
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Apply it
</span></span><span class=line><span class=cl>  recipe My wonderful recipe
</span></span><span class=line><span class=cl>    package = my-beloved-package
</span></span></code></pre></div><h2 id=writing-cookbooks>Writing cookbooks</h2><p>A cookbook may be written as any Quickonf configuration file, it is based on the very same language.</p><p>The specificities are the following:</p><ul><li>Groups are recipes: to execute a recipe, use its group name.</li><li>You cannot declare another cookbook in a cookbook with the <code>cookbook</code> instruction.</li><li>You may use undeclared variables in recipes, making them customizable: the variables can be provided when executing the recipe.</li></ul><p>For instance (this cookbook file example matches the <code>cookbook</code>/<code>recipe</code> example above):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>My wonderful recipe
</span></span><span class=line><span class=cl>  apt.install &lt;package&gt;
</span></span></code></pre></div><h1 id=multi-level-indentation>Multi-level indentation</h1><p>You may use multiple level indentation, if needed by the instructions you want to use.</p><p>Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Wifi
</span></span><span class=line><span class=cl>  nm.wifi home homessid
</span></span><span class=line><span class=cl>  if &lt;hostname&gt; = worklaptop
</span></span><span class=line><span class=cl>    repeat nm.wifi
</span></span><span class=line><span class=cl>      worknetwork workssid
</span></span><span class=line><span class=cl>      mobilenetwork mobilessid
</span></span></code></pre></div><p>&mldr; here, the &ldquo;home&rdquo; network will be known by all computers, but &ldquo;worknetwork&rdquo; and &ldquo;mobilenetwork&rdquo; are only known by your work laptop.</p></main></body>